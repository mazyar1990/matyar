FROM nginx:1.25-alpine

# Copy Nginx config
COPY docker/nginx/default.conf /etc/nginx/conf.d/default.conf

# Copy built frontend assets from host or build stage
COPY public/build /var/www/html/public/build

# Copy Laravel public folder (index.php + assets)
COPY public /var/www/html/public

# Expose port 80
EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
